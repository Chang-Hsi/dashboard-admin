import{c as n,a as t,o as i,r as c,p as D,e as _,f as x,F as y,g as k,j as H,v as $,x as N,y as M,n as C,d as g,t as o,h as L}from"./index-CywFxlyx.js";import{s as f}from"./index-BjuCpLlH.js";function Z(j,d){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}const F={class:"rounded-3xl bg-white px-6 py-2 shadow-sm"},J={class:"flex items-center justify-between border-b border-slate-100 pb-1"},K={class:"inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:bg-slate-100"},z={class:"my-4 flex gap-6"},E={class:"w-72 shrink-0"},G={class:"space-y-3"},U=["onClick"],q={class:"min-w-0 flex-1"},O={class:"truncate text-sm font-semibold text-slate-900"},Q={class:"mt-0.5 truncate text-xs text-slate-500"},R={class:"mt-0.5 text-[11px] text-slate-400"},W={key:0,class:"ml-2 inline-flex items-center justify-center rounded-full bg-blue-500 px-2.5 py-1 text-[11px] font-semibold text-white"},X={class:"flex-1 flex flex-col"},Y={class:"mb-2 text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400"},ee={class:"max-w-[70%] rounded-full bg-white px-6 py-3 text-sm text-slate-700 shadow-sm"},te={class:"mt-4 flex items-center gap-3"},se=["disabled"],r="https://i.pravatar.cc/100?img=32",ne={__name:"MessagesView",setup(j){const d=c([{id:1,name:"Jen Taylor",subtitle:"Lorem ipsum dolor sit amet…",time:"• 1 hr",avatar:"https://i.pravatar.cc/100?img=47",unreadCount:3},{id:2,name:"Sarah Johnson",subtitle:"Lorem ipsum dolor sit amet…",time:"• 2 hrs",avatar:"https://i.pravatar.cc/100?img=48",unreadCount:0},{id:3,name:"Liam Anderson",subtitle:"Lorem ipsum dolor sit amet…",time:"• 3 hrs",avatar:"https://i.pravatar.cc/100?img=49",unreadCount:0}]),u=c({1:[{id:1,time:"11:15 AM",side:"left",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",avatar:"https://i.pravatar.cc/100?img=47"},{id:2,time:"12:31 PM",side:"right",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",avatar:r},{id:3,time:"01:20 PM",side:"left",text:"In ut nunc sed mauris dapibus varius. Donec placerat ante non mi luctus.",avatar:"https://i.pravatar.cc/100?img=47"},{id:4,time:"03:48 PM",side:"left",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",avatar:"https://i.pravatar.cc/100?img=47"},{id:5,time:"04:09 PM",side:"right",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",avatar:r}],2:[{id:1,time:"09:22 AM",side:"left",text:"Hi Sarah, how is the design review going?",avatar:"https://i.pravatar.cc/100?img=48"},{id:2,time:"09:35 AM",side:"right",text:"Pretty good! I will send you the files this afternoon.",avatar:r},{id:3,time:"01:10 PM",side:"left",text:"Great, I will check them after the meeting.",avatar:"https://i.pravatar.cc/100?img=48"}],3:[{id:1,time:"10:02 AM",side:"right",text:"Hey Liam, can you review the new dashboard cards?",avatar:r},{id:2,time:"10:18 AM",side:"left",text:"Sure, I will take a look in a few minutes.",avatar:"https://i.pravatar.cc/100?img=49"},{id:3,time:"02:45 PM",side:"right",text:"Thanks! Let me know if you see anything to improve.",avatar:r}]}),m=c(d.value[0].id),l=c(""),p=c(null),S=D(()=>u.value[m.value]||[]),T=a=>{m.value=a,M(()=>b())},w=()=>{const a=l.value.trim();if(!a)return;const s=m.value;u.value[s]||(u.value[s]=[]);const e=u.value[s],h=e.length?e[e.length-1].id+1:1,P=A(new Date),B={id:h,time:P,side:"right",text:a,avatar:r};e.push(B);const v=d.value.find(V=>V.id===s);v&&(v.subtitle=a,v.time="• just now",v.unreadCount=0),l.value="",M(()=>b())},A=a=>{let s=a.getHours();const e=String(a.getMinutes()).padStart(2,"0"),h=s>=12?"PM":"AM";return s=s%12,s===0&&(s=12),`${String(s).padStart(2,"0")}:${e} ${h}`},b=()=>{p.value&&(p.value.scrollTop=p.value.scrollHeight)};return(a,s)=>(i(),n("div",F,[t("div",J,[s[1]||(s[1]=t("h1",{class:"text-sm font-semibold text-slate-900"},"Messages",-1)),t("button",K,[_(x(Z),{class:"h-5 w-5"})])]),t("div",z,[t("aside",E,[t("ul",G,[(i(!0),n(y,null,k(d.value,e=>(i(),n("li",{key:e.id},[t("button",{class:C(["flex w-full items-center gap-3 rounded-3xl px-4 py-3 text-left transition",e.id===m.value?"bg-blue-50":"hover:bg-slate-50"]),onClick:h=>T(e.id)},[_(x(f),{image:e.avatar,shape:"circle",class:"h-24 w-24"},null,8,["image"]),t("div",q,[t("div",O,o(e.name),1),t("div",Q,o(e.subtitle),1),t("div",R,o(e.time),1)]),e.unreadCount?(i(),n("span",W,o(e.unreadCount),1)):g("",!0)],10,U)]))),128))])]),t("section",X,[t("div",{ref_key:"messagesContainer",ref:p,class:"relative max-h-[620px] flex-1 overflow-y-auto rounded-3xl bg-blue-50 px-10 py-8"},[(i(!0),n(y,null,k(S.value,e=>(i(),n("div",{key:e.id,class:"mb-6 flex flex-col items-center"},[t("div",Y,o(e.time),1),t("div",{class:C(["flex w-full items-center gap-3",e.side==="left"?"justify-start":"justify-end"])},[e.side==="left"?(i(),L(x(f),{key:0,image:e.avatar,shape:"circle",class:"h-24 w-24"},null,8,["image"])):g("",!0),t("div",ee,o(e.text),1),e.side==="right"?(i(),L(x(f),{key:1,image:e.avatar,shape:"circle",class:"h-24 w-24"},null,8,["image"])):g("",!0)],2)]))),128))],512),t("div",te,[H(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),type:"text",class:"flex-1 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Type a reply...",onKeyup:N(w,["enter"])},null,544),[[$,l.value]]),t("button",{class:"inline-flex items-center justify-center rounded-full bg-blue-500 px-5 py-2 text-sm font-semibold text-white hover:bg-blue-600 disabled:opacity-40",disabled:!l.value.trim(),onClick:w}," Send ",8,se)])])])]))}};export{ne as default};
